:root{--primary: #BE2E78;--primary-hover: #9e1e5e;--secondary: #2b3456;--secondary-dark: #131d43;--text-dark: #1f2937;--text-light: #6b7280;--border: #e5e7eb;--border-light: #f3f4f6;--bg-light: #f9fafb;--bg-subtle: #f8f9fa;--bg-white: #ffffff;--pink-light: #f6d7e8;--pink-border: #be2e78}@media (prefers-color-scheme: dark){:root{--primary: #ff3d8f;--primary-hover: #ff5ca3;--secondary: #7b9bd4;--secondary-dark: #5a7bb8;--text-dark: #e5e5e5;--text-light: #a0a0a0;--bg-white: #1e1e1e;--bg-light: #2d2d2d;--bg-subtle: #3a3a3a;--border: #525252;--border-light: #404040;--pink-light: #3d2432;--pink-border: #ff3d8f}}[data-theme=dark],.dark-mode,body.dark{--primary: #ff3d8f;--primary-hover: #ff5ca3;--secondary: #7b9bd4;--secondary-dark: #5a7bb8;--text-dark: #e5e5e5;--text-light: #a0a0a0;--bg-white: #1e1e1e;--bg-light: #2d2d2d;--bg-subtle: #3a3a3a;--border: #525252;--border-light: #404040;--pink-light: #3d2432;--pink-border: #ff3d8f}.nanopub-form{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;background:var(--bg-white);color:var(--text-dark)}.loading{text-align:center;padding:40px 20px;color:var(--text-light)}.loading-spinner{display:inline-block;width:40px;height:40px;border:3px solid var(--border);border-top-color:var(--primary);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.error-state{text-align:center;padding:40px 20px;color:#dc2626;background:#fef2f2;border:1px solid #fecaca;border-radius:6px}@media (prefers-color-scheme: dark){.error-state{color:#fca5a5;background:#3d1a1a;border-color:#7c2d2d}}[data-theme=dark] .error-state,.dark-mode .error-state,body.dark .error-state{color:#fca5a5;background:#3d1a1a;border-color:#7c2d2d}.empty-state{text-align:center;padding:60px 20px;color:var(--text-light)}.empty-state h3{margin:0 0 10px;color:var(--text-dark);font-size:1.3em}@media (max-width: 768px){.subject-group{padding:1rem}.form-controls{flex-direction:column}.btn{width:100%;justify-content:center}}.form-field{margin-bottom:1.25rem}.field-label{display:block;font-weight:600;color:var(--text-dark);margin-bottom:.5rem;font-size:.95em}.field-help{color:var(--text-light);font-size:.85em;margin-top:.25rem;font-style:italic}.field-value{color:var(--text-light);font-size:.9em;padding:.5rem 0}.field-value.auto-generated{color:var(--text-light);font-style:italic;font-size:.85em}.form-input,.form-select,.form-textarea{width:100%;padding:.625rem .875rem;border:2px solid var(--border);border-radius:6px;font-size:.95em;font-family:inherit;transition:border-color .2s,box-shadow .2s;background:var(--bg-white);color:var(--text-dark)}.form-select{appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%236b7280' d='M6 9L1 4h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right .75rem center;background-size:12px;padding-right:2.5rem;cursor:pointer;background-color:var(--bg-white)}@media (prefers-color-scheme: dark){.form-select{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23a0a0a0' d='M6 9L1 4h10z'/%3E%3C/svg%3E")}}[data-theme=dark] .form-select,.dark-mode .form-select,body.dark .form-select{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23a0a0a0' d='M6 9L1 4h10z'/%3E%3C/svg%3E")}.form-select:hover{border-color:var(--primary)}.form-input:focus,.form-select:focus,.form-textarea:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #be2e7826}@media (prefers-color-scheme: dark){.form-input:focus,.form-select:focus,.form-textarea:focus{box-shadow:0 0 0 3px #ff3d8f40}}[data-theme=dark] .form-input:focus,[data-theme=dark] .form-select:focus,[data-theme=dark] .form-textarea:focus,.dark-mode .form-input:focus,.dark-mode .form-select:focus,.dark-mode .form-textarea:focus,body.dark .form-input:focus,body.dark .form-select:focus,body.dark .form-textarea:focus{box-shadow:0 0 0 3px #ff3d8f40}.form-select option{padding:.5rem;background:var(--bg-white);color:var(--text-dark)}.form-select option:first-child{color:var(--text-light)}.form-textarea{min-height:100px;resize:vertical}.optional-badge{display:inline-block;margin-left:.5rem;padding:2px 6px;background:var(--bg-subtle);color:var(--text-light);font-size:.7em;font-weight:500;border-radius:3px;text-transform:uppercase;letter-spacing:.3px}.required-badge{background:#fef3c7;color:#92400e;padding:2px 8px;border-radius:12px;font-size:.75em;font-weight:600;margin-left:8px;text-transform:uppercase}@media (prefers-color-scheme: dark){.required-badge{background:#854d0e;color:#fef3c7}}[data-theme=dark] .required-badge,.dark-mode .required-badge,body.dark .required-badge{background:#854d0e;color:#fef3c7}.form-field.required{border-left:3px solid #fbbf24;padding-left:12px}.field-hint{font-size:.85em;color:var(--text-light);margin-top:5px;display:flex;gap:5px;align-items:start}.field-hint code{background:var(--bg-subtle);padding:2px 6px;border-radius:3px;font-family:Monaco,Menlo,Courier New,monospace;font-size:.9em;color:var(--secondary)}.identifier-preview{font-size:.85em;color:var(--text-light);margin-top:8px;padding:8px 12px;background:var(--bg-light);border-radius:4px;border-left:3px solid var(--primary);animation:slideIn .2s ease-out}.identifier-preview code{background:var(--bg-subtle);padding:2px 6px;border-radius:3px;font-family:Monaco,Menlo,Courier New,monospace;font-size:.9em;color:var(--secondary);font-weight:600}@keyframes slideIn{0%{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.edit-hint{font-size:.8em;color:var(--text-light);margin-top:4px;font-style:italic;animation:fadeIn .2s ease-in}.form-field.valid .form-input,.form-field.valid .form-select,.form-field.valid .form-textarea{border-color:#10b981;background:#f0fdf4}@media (prefers-color-scheme: dark){.form-field.valid .form-input,.form-field.valid .form-select,.form-field.valid .form-textarea{background:#064e3b;border-color:#34d399}}[data-theme=dark] .form-field.valid .form-input,[data-theme=dark] .form-field.valid .form-select,[data-theme=dark] .form-field.valid .form-textarea,.dark-mode .form-field.valid .form-input,.dark-mode .form-field.valid .form-select,.dark-mode .form-field.valid .form-textarea,body.dark .form-field.valid .form-input,body.dark .form-field.valid .form-select,body.dark .form-field.valid .form-textarea{background:#064e3b;border-color:#34d399}.form-field.invalid .form-input,.form-field.invalid .form-select,.form-field.invalid .form-textarea{border-color:#ef4444;background:#fef2f2}@media (prefers-color-scheme: dark){.form-field.invalid .form-input,.form-field.invalid .form-select,.form-field.invalid .form-textarea{background:#450a0a;border-color:#f87171}}[data-theme=dark] .form-field.invalid .form-input,[data-theme=dark] .form-field.invalid .form-select,[data-theme=dark] .form-field.invalid .form-textarea,.dark-mode .form-field.invalid .form-input,.dark-mode .form-field.invalid .form-select,.dark-mode .form-field.invalid .form-textarea,body.dark .form-field.invalid .form-input,body.dark .form-field.invalid .form-select,body.dark .form-field.invalid .form-textarea{background:#450a0a;border-color:#f87171}.validation-message{font-size:.85em;margin-top:5px;display:flex;align-items:center;gap:5px}.validation-message.success{color:#059669}.validation-message.error{color:#dc2626}@media (prefers-color-scheme: dark){.validation-message.success{color:#6ee7b7}.validation-message.error{color:#fca5a5}}[data-theme=dark] .validation-message.success,.dark-mode .validation-message.success,body.dark .validation-message.success{color:#6ee7b7}[data-theme=dark] .validation-message.error,.dark-mode .validation-message.error,body.dark .validation-message.error{color:#fca5a5}.form-field.error .form-input,.form-field.error .form-select,.form-field.error .form-textarea{border-color:#dc2626}.field-error{color:#dc2626;font-size:.85em;margin-top:.25rem;display:flex;align-items:center;gap:4px}@media (prefers-color-scheme: dark){.field-error{color:#fca5a5}}[data-theme=dark] .field-error,.dark-mode .field-error,body.dark .field-error{color:#fca5a5}.readonly-field{background:var(--bg-subtle);padding:.75rem;border-radius:4px;border:1px solid var(--border-light)}.readonly-field .field-label{margin-bottom:.25rem}.readonly-field .field-value{color:var(--text-dark);font-weight:500}.auto-filled{background:#f0fdf4!important;border-color:#86efac!important}@media (prefers-color-scheme: dark){.auto-filled{background:#064e3b!important;border-color:#34d399!important}}[data-theme=dark] .auto-filled,.dark-mode .auto-filled,body.dark .auto-filled{background:#064e3b!important;border-color:#34d399!important}.auto-fill-indicator{font-size:.75em;color:#059669;margin-top:4px;font-weight:500;animation:fadeIn .3s ease-in}@media (prefers-color-scheme: dark){.auto-fill-indicator{color:#6ee7b7}}[data-theme=dark] .auto-fill-indicator,.dark-mode .auto-fill-indicator,body.dark .auto-fill-indicator{color:#6ee7b7}@keyframes fadeIn{0%{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.btn-suggestion{font-size:.85em;padding:6px 12px;background:#f0fdf4;border:1px solid #86efac;border-radius:4px;color:#059669;cursor:pointer;margin-top:8px;transition:all .2s;display:inline-block;font-family:inherit}@media (prefers-color-scheme: dark){.btn-suggestion{background:#064e3b;border-color:#34d399;color:#6ee7b7}}[data-theme=dark] .btn-suggestion,.dark-mode .btn-suggestion,body.dark .btn-suggestion{background:#064e3b;border-color:#34d399;color:#6ee7b7}.btn-suggestion:hover{background:#dcfce7;transform:translateY(-1px);box-shadow:0 2px 8px #05966933}@media (prefers-color-scheme: dark){.btn-suggestion:hover{background:#065f46;box-shadow:0 2px 8px #34d3994d}}[data-theme=dark] .btn-suggestion:hover,.dark-mode .btn-suggestion:hover,body.dark .btn-suggestion:hover{background:#065f46;box-shadow:0 2px 8px #34d3994d}.autocomplete-hint{font-size:.8em;color:var(--text-light);margin-top:4px;font-style:italic}.form-progress-header{background:var(--bg-white);padding:15px;border-radius:6px;margin-bottom:20px;border:1px solid var(--border)}.progress-bar-container{height:8px;background:var(--border-light);border-radius:4px;overflow:hidden;margin-bottom:8px}.progress-bar{height:100%;background:linear-gradient(90deg,var(--primary),#d946a6);border-radius:4px;transition:width .3s ease-out}.progress-text{font-size:.85em;color:var(--text-light);text-align:center}.optional-collapsible{margin-bottom:1rem}.optional-collapsible.collapsed .optional-content{max-height:0!important;padding:0!important;overflow:hidden}.optional-toggle{display:flex;align-items:center;gap:8px;cursor:pointer;padding:12px;background:var(--bg-subtle);border:2px solid var(--border);border-radius:6px;transition:all .2s;user-select:none}.optional-toggle:hover{background:#e9ecef}.optional-collapsible:not(.collapsed) .optional-toggle{background:#e7f3ff;border-color:#06c}.toggle-icon{transition:transform .2s;font-size:.8em;color:#666;min-width:12px}.optional-collapsible:not(.collapsed) .toggle-icon{transform:rotate(90deg)}.toggle-label{font-weight:500;color:#495057;flex:1}.optional-toggle .optional-badge{background:#e7f3ff;color:#06c;padding:3px 10px;border-radius:12px;font-size:.75em;font-weight:600;margin-left:auto}.optional-collapsible:not(.collapsed) .optional-toggle .optional-badge{background:#d1ecf1}.optional-content{max-height:0;overflow:hidden;transition:max-height .3s ease-out,padding .3s ease-out;padding:0}.optional-collapsible:not(.collapsed) .optional-content{max-height:2000px;padding:15px 0 0;overflow:visible}.form-controls{display:flex;gap:12px;margin-top:30px;padding-top:20px;border-top:2px solid var(--border-light)}.btn{padding:12px 24px;border:none;border-radius:6px;cursor:pointer;font-weight:600;font-size:.95em;transition:all .2s cubic-bezier(.4,0,.2,1);display:inline-flex;align-items:center;gap:8px;font-family:inherit}.btn:disabled{opacity:.5;cursor:not-allowed}.btn-primary{background:var(--primary);color:#fff}.btn-primary:hover:not(:disabled){background:var(--primary-hover);transform:translateY(-1px);box-shadow:0 4px 12px #be2e784d}@media (prefers-color-scheme: dark){.btn-primary:hover:not(:disabled){box-shadow:0 4px 12px #ff3d8f66}}[data-theme=dark] .btn-primary:hover:not(:disabled),.dark-mode .btn-primary:hover:not(:disabled),body.dark .btn-primary:hover:not(:disabled){box-shadow:0 4px 12px #ff3d8f66}.btn-secondary{background:var(--secondary);color:#fff}.btn-secondary:hover:not(:disabled){background:var(--secondary-dark);transform:translateY(-1px);box-shadow:0 4px 12px #2b34564d}@media (prefers-color-scheme: dark){.btn-secondary:hover:not(:disabled){box-shadow:0 4px 12px #7b9bd466}}[data-theme=dark] .btn-secondary:hover:not(:disabled),.dark-mode .btn-secondary:hover:not(:disabled),body.dark .btn-secondary:hover:not(:disabled){box-shadow:0 4px 12px #7b9bd466}.btn-outline{background:var(--bg-white);color:var(--primary);border:2px solid var(--primary)}.btn-outline:hover:not(:disabled){background:var(--pink-light);transform:translateY(-1px)}.btn-add,.btn-add-field{background:var(--secondary);color:#fff;padding:10px 18px;font-size:.875em;margin-top:.75rem;border:none;border-radius:6px;cursor:pointer;font-weight:600;transition:all .2s cubic-bezier(.4,0,.2,1);display:inline-flex;align-items:center;gap:6px;font-family:inherit}.btn-add:hover:not(:disabled),.btn-add-field:hover:not(:disabled){background:var(--secondary-dark);transform:translateY(-1px);box-shadow:0 4px 12px #2b34564d}@media (prefers-color-scheme: dark){.btn-add:hover:not(:disabled),.btn-add-field:hover:not(:disabled){box-shadow:0 4px 12px #7b9bd466}}[data-theme=dark] .btn-add:hover:not(:disabled),[data-theme=dark] .btn-add-field:hover:not(:disabled),.dark-mode .btn-add:hover:not(:disabled),.dark-mode .btn-add-field:hover:not(:disabled),body.dark .btn-add:hover:not(:disabled),body.dark .btn-add-field:hover:not(:disabled){box-shadow:0 4px 12px #7b9bd466}.btn-remove{background:#dc2626;color:#fff;padding:6px 12px;font-size:.8em;border:none;border-radius:6px;cursor:pointer;font-weight:600;transition:all .2s cubic-bezier(.4,0,.2,1);display:inline-flex;align-items:center;gap:4px}.btn-remove:hover:not(:disabled){background:#b91c1c;transform:translateY(-1px)}@media (prefers-color-scheme: dark){.btn-remove{background:#ef4444}.btn-remove:hover:not(:disabled){background:#dc2626}}[data-theme=dark] .btn-remove,.dark-mode .btn-remove,body.dark .btn-remove{background:#ef4444}[data-theme=dark] .btn-remove:hover:not(:disabled),.dark-mode .btn-remove:hover:not(:disabled),body.dark .btn-remove:hover:not(:disabled){background:#dc2626}.repeatable-controls{display:flex;gap:8px;margin-top:1rem}.subject-group{margin:1.5rem 0;padding:1.5rem;border:2px solid var(--pink-border);border-radius:8px;background:var(--pink-light);box-shadow:0 1px 3px #be2e781a}.subject-field{margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:2px solid rgba(190,46,120,.2)}.subject-label{font-weight:600;font-size:1.15em;color:var(--secondary);margin-bottom:.75rem;display:block}.semantic-group{margin:1.25rem 0}.form-field-group{margin:1.25rem 0;padding:1.25rem;border:1px solid var(--border);border-radius:6px;background:#fff}.form-field-group.repeatable-group{border-left:3px solid var(--primary)}.field-group-label{font-weight:600;color:var(--secondary);margin-bottom:1rem;font-size:1.05em}.template-geographical .geometry-group{border-left:3px solid #059669}.template-geographical .geometry-group .optional-toggle{background:#f0fdf4;border-color:#86efac}.template-geographical .geometry-group:not(.collapsed) .optional-toggle{background:#dcfce7;border-color:#059669}.template-geographical .location-field{position:relative}.template-geographical .wkt-field{font-family:Monaco,Menlo,Courier New,monospace;font-size:.9em}.template-geographical .paper-citation{background:#fef3c7;border-left:3px solid #fbbf24}.template-geographical .doi-field{font-family:Monaco,Menlo,Courier New,monospace}
